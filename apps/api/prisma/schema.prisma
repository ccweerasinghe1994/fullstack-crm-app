// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Customer Account Model
model Customer {
  id           String                   @id @default(uuid())
  firstName    String                   @map("first_name")
  lastName     String                   @map("last_name")
  email        String                   @unique
  phoneNumber  String?                  @map("phone_number")
  address      String?
  city         String?
  state        String?
  country      String?
  createdAt    DateTime                 @default(now()) @map("created_at")
  updatedAt    DateTime                 @updatedAt @map("updated_at")
  searchVector Unsupported("tsvector")? @default(dbgenerated("to_tsvector('english', coalesce(first_name, '') || ' ' || coalesce(last_name, '') || ' ' || coalesce(email, '') || ' ' || coalesce(phone_number, '') || ' ' || coalesce(address, '') || ' ' || coalesce(city, '') || ' ' || coalesce(state, '') || ' ' || coalesce(country, ''))")) @map("search_vector")

  @@index([email])
  @@index([createdAt])
  @@index([searchVector], type: Gin)
  @@map("customers")
}
